<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
<meta name="description" content="Ugh, Code - A JavaScript Primer for the Slightly Less Enthused">
<meta name="keywords" content="JavaScript,programming,coding,learn to code,HTML,CSS">
<meta name="author" content="Peleg Rosenthal">

<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1">

<meta property="og:url" content="https://ughco.de">
<meta property="og:image" content="">
<meta property="og:title" content="Ugh, Code">
<meta property="og:description" content="A JavaScript Primer for the Slightly Less Enthused">

<link href="https://fonts.googleapis.com/css?family=Noto+Serif:400,400italic,700" rel='stylesheet' type="text/css">
<link rel="stylesheet" href="/www/assets/style.css" media="all" type="text/css">
<title>Ugh, Code</title>

</head>
<body>
  <div class="container">
    <h2 id="chapter-7---operators">Chapter 7 - Operators</h2>
<p>The first line in our <code>getWeather</code> function is the following:</p>
<div class="sourceCode"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="kw">var</span> url <span class="op">=</span> apiUrl <span class="op">+</span>
  <span class="st">&#39;?appid=&#39;</span> <span class="op">+</span> apiKey <span class="op">+</span>
  <span class="st">&#39;&amp;units=imperial&#39;</span> <span class="op">+</span>
  <span class="st">&#39;&amp;lon=&#39;</span> <span class="op">+</span> <span class="va">coordinate</span>.<span class="at">longitude</span> <span class="op">+</span>
  <span class="st">&#39;&amp;lat=&#39;</span> <span class="op">+</span> <span class="va">coordinate</span>.<span class="at">latitude</span><span class="op">;</span></code></pre></div>
<p>The expression above, although spans over multiple lines, is considered to be <em>one</em> line of code since it is an assignment to a variable which only ends at the semicolon. As you may have already understood from context, the above assignment takes the value of <code>apiUrl</code> and then adds to it (appends) the additional query params (parameters) we need to complete the URL.</p>
<p>As an example, when we send a request to the URL:</p>
<pre><code>http://api.openweathermap.org/data/2.5/weather
  ?appid=fa32f&amp;units=imperial&amp;lon=30&amp;lat=10</code></pre>
<p>The server at Open Weather Map will receive the entire URL as a string and then parse it (using conventions) into four query parameters which begin after the question mark (<code>?</code>) and are separated by ampersands (<code>&amp;</code>). The first query param, called <code>appid</code>, will hold the value of &quot;fa32f&quot; which is the API Key we received when we signed up and stored in the variable, <code>apiKey</code>. The second parameter we use, <code>unit</code>, is going to be hard coded (cannot be changed programmatically) into our function for now, and will just make sure we get our data in units that make sense to us (if you're not in the US, feel free to change this value from <code>imperial</code> to <code>metric</code>). The third parameter will be called <code>lon</code> (longitude) and will hold the value of &quot;30&quot; and the fourth will be <code>lat</code> (latitude) and will hold the value of &quot;10&quot;.</p>
<p>It's important to note that we didn't just come up with those query parameters and made up names for them. The Open Weather Map API expects those specific keys! If you want to see what other query parameters are available through the Open Weather Map API, check out their friendly <a href="http://openweathermap.org/current">documentations</a>.</p>
<p>So back to our code. When we do something like:</p>
<div class="sourceCode"><pre class="sourceCode javascript"><code class="sourceCode javascript">apiUrl <span class="op">+</span> <span class="st">&#39;?lon=&#39;</span> <span class="op">+</span> <span class="va">coordinate</span>.<span class="at">longitude</span></code></pre></div>
<p>We simply concatenate the string &quot;?lon=&quot; to the string that we already have in our <code>apiUrl</code> variable. Then we take the value in <code>coordinate.longitude</code> (note how <code>coordinate</code> is an object that has a property by the name of <code>longitude</code>) and concatenate it to the rest of our string. So if our coordinate object looked like this:</p>
<div class="sourceCode"><pre class="sourceCode javascript"><code class="sourceCode javascript">coordinate <span class="op">=</span> <span class="op">{</span>
  <span class="dt">longitude</span><span class="op">:</span> <span class="dv">30</span><span class="op">,</span>
  <span class="dt">latitude</span><span class="op">:</span> <span class="dv">10</span>
<span class="op">};</span></code></pre></div>
<p>Then we would end up with the same URL we used as an example above:</p>
<pre><code>http://api.openweathermap.org/data/2.5/weather
  ?appid=fa32f&amp;units=imperial&amp;lon=30&amp;lat=10</code></pre>
<p>Note the ampersand (<code>&amp;</code>) separating the two query parameters (<code>lon</code> and <code>lat</code>). This is normally how we transfer data in query parameters. It's just a convention, and I strongly encourage you to stick to it. In this case, you ought to stick to it, or else the Open Weather Map API won't understand what you want.</p>
<p>While we're talking about string concatenation with the plus operator (<code>+</code>), let's talk about more intuitive uses of the mathematical operators we have in JS. Here are the most important ones:</p>
<ul>
<li><code>+</code> for addition</li>
<li><code>-</code> for subtraction</li>
<li><code>/</code> for division</li>
<li><code>*</code> for multiplication</li>
<li><code>\%</code> for modulo operation</li>
</ul>
<p>Just like the good 'ol math you know (or don't), the above operators do magic to numbers just like you'd expect.</p>
<div class="sourceCode"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="dv">5</span> <span class="op">+</span> <span class="dv">2</span><span class="op">;</span> <span class="co">// yields the value of 7</span>

<span class="dv">5</span> <span class="op">*</span> <span class="dv">2</span><span class="op">;</span> <span class="co">// yields the value of 10</span></code></pre></div>
<p>The Modulo, used with the percent (<code>%</code>) sign, simply gets us the remainder of a division of two numbers. So this:</p>
<div class="sourceCode"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="dv">5</span> <span class="op">%</span> <span class="dv">2</span><span class="op">;</span> <span class="co">// yields the value of 1</span></code></pre></div>
<p>(since 5 divided by 2 has a remainder of 1)</p>
<p>Please note that if you try to do addition on a string (and not a number), you will get string concatenation (like our previous example showed), so:</p>
<div class="sourceCode"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="st">&#39;3&#39;</span> <span class="op">+</span> <span class="st">&#39;5&#39;</span><span class="op">;</span></code></pre></div>
<p>Will yield the string &quot;35&quot; rather than the number <code>8</code> since the <code>&quot;3&quot;</code> and <code>&quot;5&quot;</code> we used above are actually strings because they are wrapped in quotes.</p>
<p>So enough about arithmetic operators. They behave like you'd expect in most cases. JS has a few &quot;gotchas&quot;, but if you test your code and follow conventions, you should be good to go.</p>
<p>Let's get back to our main code.</p>
<p>The second instruction in our <code>getWeather</code> function is this:</p>
<div class="sourceCode"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="at">makeRequest</span>(url<span class="op">,</span> callback)<span class="op">;</span></code></pre></div>
<p>And while it looks like a lot more than just one instruction, it is actually pretty simple. It calls (invokes) our <code>makeRequest</code> function (which we haven't discussed in detail yet). Again, adding parentheses (<code>()</code>) to the end of our function name is how we invoke it. In the scenario above we're invoking <code>makeRequest</code> with two arguments:</p>
<ol style="list-style-type: decimal">
<li><code>url</code> - the URL that we've just finished constructing and stored in the <code>url</code> variable, and</li>
<li><code>callback</code> - a function to be executed once the computer finished retrieving the weather data. FYI, <code>callback</code> is the same argument we retained from our own, <code>getWeather</code>, invocation. We're just passing it along to <code>makeRequest</code>'s invocation.</li>
</ol>
<p>Don't freak out about this stuff; we're going to talk about it in more detail soon.</p>
<div class='navigation'><a href='/www/chapter-6---functions.html'>Chapter 6 - Functions</a><a class='next' href='/www/chapter-8---requests-and-servers.html'>Chapter 8 - Requests and Servers</a></div><div class='toc'><a href='/www/TOC.html'>Table of Contents</a></div><div class='toc'><a href='/index.html'>Home</a></div>
    <div class="social">
      <div class="amzn">
  <a target="_blank" href="https://www.amazon.com/gp/product/1533278105/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1533278105&linkCode=as2&tag=ughcode-20&linkId=16bdd66b225bb68133d4c520d8d33259">
    Buy on Amazon ($9.99)
  </a>
  <img src="//ir-na.amazon-adsystem.com/e/ir?t=ughcode-20&l=am2&o=1&a=1533278105" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /> 
</div>
<div class="twitter inline">
  <a href="https://twitter.com/share" class="twitter-share-button"
    data-url="https://ughco.de" data-text="Ugh, Code - A JavaScript Primer for the Slightly Less Enthused">Tweet</a>
  <script>
    !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');
  </script>
</div>
<div class="facebook inline">
  <div id="fb-root"></div>
  <script>(function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.6&appId=1747107702176263";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));</script>
  <div class="fb-share-button" data-href="https://ughco.de" data-layout="button" data-mobile-iframe="true"></div>
</div>
<div class="reddit inline">
  <a target="_blank"
    href="//www.reddit.com/submit?url=https%3A%2F%2Fughco.de&title=Ugh%2C%20Code%20-%20A%20JavaScript%20Primer%20for%20the%20Slightly%20Less%20Enthused">
    <img src="//www.redditstatic.com/spreddit7.gif" alt="submit to reddit" border="0" />
  </a>
</div>
<div class="hacker-news inline">
  <a target="_blank" href="http://news.ycombinator.com/submitlink?u=https%3A%2F%2Fughco.de&t=Ugh%2C%20Code%20-%20A%20JavaScript%20Primer%20for%20the%20Slightly%20Less%20Enthused">Vote on HN</a>
</div>

    </div>
  </div>
</body>
</html>
